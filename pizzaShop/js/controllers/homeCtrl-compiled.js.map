{"version":3,"sources":["homeCtrl.js"],"names":[],"mappings":"AAAA,IAAI,UAAJ,CAAe,UAAf,EAA2B,UAAU,UAAV,EAAsB,MAAtB,EAA8B,MAA9B,EAAsC,KAAtC,EAA6C,YAA7C,EAA2D,QAA3D,EAAqE,gBAArE,EAAuF;;AAE9G,WAAO,UAAP,GAAoB,UAApB;AACA,WAAO,WAAP,GAAqB,kBAArB;;AAEA;;AAEA;;;;;;;;;;AAWA;;;;;;;;;;;;;AAaA,WAAO,QAAP,GAAkB,SAAS,IAA3B;;AAEA;;;;AAIA,WAAO,gBAAP,GAA0B,iBAAiB,IAA3C;;AAEA,eAAW,GAAX,CAAe,qBAAf,EAAsC,UAAS,KAAT,EAAgB,OAAhB,EAAyB,QAAzB,EAAmC,SAAnC,EAA8C,UAA9C,EAA0D,OAA1D,EAAmE;;AAErG,YAAG,WAAW,cAAd,EAA8B;AAC1B,uBAAW,IAAX,GAAkB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,IAA5D;AACA,uBAAW,KAAX,GAAmB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,KAA7D;AACA,uBAAW,KAAX,GAAmB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,KAA7D;AACA,uBAAW,IAAX,GAAkB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,IAA5D;AACA,uBAAW,MAAX,GAAoB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,MAA9D;AACA,uBAAW,KAAX,GAAmB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,KAA7D;AACA,uBAAW,SAAX,GAAuB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,SAAjE;AACA,uBAAW,MAAX,GAAoB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,MAA9D;AACA,uBAAW,KAAX,GAAmB,OAAO,gBAAP,CAAwB,WAAW,KAAnC,EAA0C,KAA7D;AACH;AACJ,KAbD;;AAeA,WAAO,KAAP,GAAe,aAAa,QAAb,EAAf;;AAEA,WAAO,OAAP,GAAiB,UAAU,IAAV,EAAgB;AAC7B,qBAAa,OAAb,CAAqB,IAArB;AACH,KAFD;;AAIA,WAAO,UAAP,GAAoB,UAAU,IAAV,EAAgB;AAChC,qBAAa,UAAb,CAAwB,OAAO,KAA/B,EAAsC,IAAtC;AACH,KAFD;;AAIA,WAAO,QAAP,GAAkB,YAAY;AAC1B,eAAO,aAAa,QAAb,EAAP;AACH,KAFD;;AAIA,QAAI,WAAW,EAAE,KAAF,EAAf;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,WAAO,iBAAP,GAA2B,UAAU,GAAV,EAAe;;AAEtC,eAAO,UAAU,IAAV,EAAgB;AACnB,gBAAI,MAAM,IAAV;AACA,iBAAK,IAAI,IAAT,IAAiB,GAAjB,EAAsB;AAClB,oBAAI,IAAI,cAAJ,CAAmB,IAAnB,KAA4B,IAAI,IAAJ,CAA5B,IAAyC,KAAK,WAAL,CAAiB,OAAjB,CAAyB,IAAzB,IAAiC,CAA9E,EAAiF;AAC7E,0BAAM,KAAN;AACH;AACJ;AACD,mBAAO,GAAP;AACH,SARD;AASH,KAXD;;AAaA,WAAO,SAAP,GAAmB,SAAnB;AACA,WAAO,OAAP,GAAiB,KAAjB;;AAEA,WAAO,IAAP,GAAc,UAAU,SAAV,EAAqB;AAC/B,YAAI,OAAO,SAAP,KAAqB,SAAzB,EAAoC;AAChC,mBAAO,OAAP,GAAiB,CAAC,OAAO,OAAzB;AACH,SAFD,MAEO;AACH,mBAAO,SAAP,GAAmB,SAAnB;AACA,mBAAO,OAAP,GAAiB,KAAjB;AACH;AACJ,KAPD;AAQH,CAtID","file":"homeCtrl-compiled.js","sourcesContent":["app.controller('HomeCtrl', function ($rootScope, $scope, $state, $http, stateService, products, registered_users) {\r\n\r\n    $scope.regexPrice = /^[0-9]*$/;\r\n    $scope.regexSearch = /^[A-z0-9]{0,20}$/;\r\n\r\n    /*$scope.templates = {name: 'item_contacts.html', url: 'template/item_contacts.html'};*/\r\n\r\n    /*$q.all([\r\n     p1,\r\n     p2\r\n     ]).then();\r\n     var p = $q.defer();\r\n     p.promise.then(function () {\r\n     console.log('resolved');\r\n     });\r\n     p.resolve();*/\r\n\r\n\r\n    /*$scope.ingridientsChosen = {};\r\n     setTimeout(function () {\r\n     $scope.$apply(function () {\r\n     $scope.ingridientsChosen.beaf = true;\r\n     });\r\n     }, 3000);\r\n     $scope.$watch('search', function () {\r\n     console.log($scope.search);\r\n     });\r\n     $scope.$watchCollection('ingridientsChosen', function () {\r\n     console.log('asdas', $scope.ingridientsChosen);\r\n     });*/\r\n\r\n    $scope.products = products.data;\r\n\r\n    /*setTimeout(function () {\r\n     $scope.to = 10000;\r\n     }, 5000);*/\r\n\r\n    $scope.registered_users = registered_users.data;\r\n\r\n    $rootScope.$on('$stateChangeSuccess', function(event, toState, toParams, fromState, fromParams, options) {\r\n\r\n        if($rootScope.isRegistration) {\r\n            $rootScope.name = $scope.registered_users[$rootScope.index].name;\r\n            $rootScope.email = $scope.registered_users[$rootScope.index].email;\r\n            $rootScope.phone = $scope.registered_users[$rootScope.index].phone;\r\n            $rootScope.city = $scope.registered_users[$rootScope.index].city;\r\n            $rootScope.street = $scope.registered_users[$rootScope.index].street;\r\n            $rootScope.house = $scope.registered_users[$rootScope.index].house;\r\n            $rootScope.apartment = $scope.registered_users[$rootScope.index].apartment;\r\n            $rootScope.access = $scope.registered_users[$rootScope.index].access;\r\n            $rootScope.floor = $scope.registered_users[$rootScope.index].floor;\r\n        }\r\n    });\r\n\r\n    $scope.carts = stateService.getCarts();\r\n\r\n    $scope.addItem = function (item) {\r\n        stateService.addItem(item);\r\n    };\r\n\r\n    $scope.removeItem = function (item) {\r\n        stateService.removeItem($scope.carts, item);\r\n    };\r\n\r\n    $scope.getTotal = function () {\r\n        return stateService.getTotal();\r\n    };\r\n\r\n    var deferred = Q.defer();\r\n\r\n    /*$scope.from = (function () {\r\n        var minPrice = 100;\r\n        for (var i = 0; i < $scope.products.length; i += 1) {\r\n            if ($scope.products[i].price < minPrice) {\r\n                minPrice = $scope.products[i].price;\r\n                deferred.resolve();\r\n            }\r\n        }\r\n        return minPrice;\r\n    })();\r\n\r\n    $scope.to = (function () {\r\n        var maxPrice = 0;\r\n        for (var i = 0; i < $scope.products.length; i += 1) {\r\n            if ($scope.products[i].price > maxPrice) {\r\n                maxPrice = $scope.products[i].price;\r\n                deferred.resolve();\r\n            }\r\n        }\r\n        return maxPrice;\r\n    })();\r\n\r\n    deferred.promise.then(function (res) {\r\n\r\n        $scope.filterPrice = function (minPrice, maxPrice) {\r\n\r\n            /!*if(minPrice < 0 || maxPrice < 0) {\r\n             alert('Invalid price!!!');\r\n             }*!/\r\n\r\n            return function (item) {\r\n                var res = true;\r\n                if (!(item.price >= minPrice && item.price <= maxPrice)) {\r\n                    res = false;\r\n                }\r\n                return res;\r\n            };\r\n        };\r\n    });*/\r\n\r\n    $scope.filterIngridients = function (obj) {\r\n\r\n        return function (item) {\r\n            var res = true;\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop) && obj[prop] && item.ingridients.indexOf(prop) < 0) {\r\n                    res = false;\r\n                }\r\n            }\r\n            return res;\r\n        };\r\n    };\r\n\r\n    $scope.sortField = undefined;\r\n    $scope.reverse = false;\r\n\r\n    $scope.sort = function (fieldName) {\r\n        if ($scope.sortField === fieldName) {\r\n            $scope.reverse = !$scope.reverse;\r\n        } else {\r\n            $scope.sortField = fieldName;\r\n            $scope.reverse = false;\r\n        }\r\n    };\r\n});"]}